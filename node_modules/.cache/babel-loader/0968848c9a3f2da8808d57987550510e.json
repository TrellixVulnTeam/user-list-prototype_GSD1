{"ast":null,"code":"import _toConsumableArray from\"/Users/jamesdow/Documents/projects/interview-challenges/lifeway/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/jamesdow/Documents/projects/interview-challenges/lifeway/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import{prefix}from'./globals';import classnames from'classnames';import getUsers from'./utilities/getUsers';import Popup from'./components/Popup';import UserList from'./components/UserList';import PanelSwitcher from'./components/PanelSwitcher';import Header from'./components/Header';import UserForm from'./components/UserForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),autoOpen=_useState2[0],setAutoOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),panel=_useState4[0],setPanel=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),editUser=_useState6[0],setEditUser=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),users=_useState8[0],setUsers=_useState8[1];useEffect(function(){setTimeout(function(){setAutoOpen(true);},1500);},[]);useEffect(function(){getUsers().then(function(d){return setUsers(d);});},[]);var sharedState={saveUser:function saveUser(user,index){if(index){users.splice(index,1,user);}else{users.push(user);}setUsers(_toConsumableArray(users));},deleteUser:function deleteUser(index){users.splice(index,1);setUsers(_toConsumableArray(users));}};return/*#__PURE__*/_jsx(\"main\",{className:\"lw-main\",children:/*#__PURE__*/_jsx(Popup,{open:autoOpen,children:/*#__PURE__*/_jsxs(PanelSwitcher,{aside:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{title:editUser.id?'Edit user':'Create user',active:autoOpen}),/*#__PURE__*/_jsx(UserForm,{editUser:editUser,sharedState:sharedState,switchPanel:function switchPanel(e){return _switchPanel('left',e);}})]}),activePanel:panel,children:[/*#__PURE__*/_jsx(Header,{title:\"User list\",active:autoOpen}),/*#__PURE__*/_jsx(UserList,{users:users,sharedState:sharedState,switchPanel:function switchPanel(e){return _switchPanel('right',e);}})]})})});function _switchPanel(panelName,e){e.preventDefault();setPanel(panelName);setEditUser({id:e.target.dataset.userid,index:e.target.dataset.userindex});return panel;}}export default App;","map":{"version":3,"sources":["/Users/jamesdow/Documents/projects/interview-challenges/lifeway/src/frontend/App.js"],"names":["useEffect","useState","prefix","classnames","getUsers","Popup","UserList","PanelSwitcher","Header","UserForm","App","autoOpen","setAutoOpen","panel","setPanel","editUser","setEditUser","users","setUsers","setTimeout","then","d","sharedState","saveUser","user","index","splice","push","deleteUser","id","e","switchPanel","panelName","preventDefault","target","dataset","userid","userindex"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react';\nimport { prefix } from './globals';\nimport classnames from 'classnames';\nimport getUsers from './utilities/getUsers';\nimport Popup from './components/Popup';\nimport UserList from './components/UserList';\nimport PanelSwitcher from './components/PanelSwitcher';\nimport Header from './components/Header';\nimport UserForm from './components/UserForm';\n\nfunction App() {\n  const [autoOpen, setAutoOpen] = useState(false);\n  const [panel, setPanel] = useState(false);\n  const [editUser, setEditUser] = useState({});\n  const [users, setUsers] = useState([]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      setAutoOpen(true);\n    }, 1500)\n  }, []);\n\n  useEffect(() => {\n    getUsers().then(d => setUsers(d));\n  }, []);\n\n\n  const sharedState = {\n    saveUser: (user, index) => {\n      if (index) {\n        users.splice(index, 1, user);\n      } else {\n        users.push(user);\n      }\n      setUsers([...users]);\n    },\n    deleteUser: (index) => {\n      users.splice(index, 1);\n      setUsers([...users]);\n    }\n  }\n\n  return (\n    <main className=\"lw-main\">\n      <Popup open={autoOpen}>\n        <PanelSwitcher\n          aside={\n            <>\n              <Header title={editUser.id ? 'Edit user' : 'Create user'} active={autoOpen} />\n              <UserForm\n                editUser={editUser}\n                sharedState={sharedState}\n                switchPanel={e => switchPanel('left', e)}\n              />\n            </>\n          }\n          activePanel={panel}>\n          <Header title=\"User list\" active={autoOpen} />\n          <UserList\n            users={users}\n            sharedState={sharedState}\n            switchPanel={e => switchPanel('right', e)}\n          />\n        </PanelSwitcher>\n      </Popup>\n    </main>\n  );\n\n  function switchPanel (panelName, e) {\n    e.preventDefault();\n    setPanel(panelName);\n    setEditUser({\n      id: e.target.dataset.userid,\n      index: e.target.dataset.userindex\n    });\n    return panel;\n  }\n}\n\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}